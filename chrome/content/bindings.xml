<?xml version="1.0"?>
<!DOCTYPE bindings SYSTEM "chrome://dtaac/locale/bindings.dtd" >

<!-- ***** BEGIN LICENSE BLOCK *****
   - Version: MPL 1.1/GPL 2.0/LGPL 2.1
   -
   - The contents of this file are subject to the Mozilla Public License Version
   - 1.1 (the "License"); you may not use this file except in compliance with
   - the License. You may obtain a copy of the License at
   - http://www.mozilla.org/MPL/
   -
   - Software distributed under the License is distributed on an "AS IS" basis,
   - WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License
   - for the specific language governing rights and limitations under the
   - License.
   -
   - The Original Code is DownThemAll! AntiContainer bindings.
   -
   - The Initial Developer of the Original Code is
   - Nils Maier.
   - Portions created by the Initial Developer are Copyright (C) 2009
   - the Initial Developer. All Rights Reserved.
   -
   - Contributor(s):
   -  Nils Maier <Maierman@web.de>
   -
   - Alternatively, the contents of this file may be used under the terms of
   - either the GNU General Public License Version 2 or later (the "GPL"), or
   - the GNU Lesser General Public License Version 2.1 or later (the "LGPL"),
   - in which case the provisions of the GPL or the LGPL are applicable instead
   - of those above. If you wish to allow use of your version of this file only
   - under the terms of either the GPL or the LGPL, and not to allow others to
   - use your version of this file under the terms of the MPL, indicate your
   - decision by deleting the provisions above and replace them with the notice
   - and other provisions required by the LGPL or the GPL. If you do not delete
   - the provisions above, a recipient may use your version of this file under
   - the terms of any one of the MPL, the GPL or the LGPL.
   -
   - ***** END LICENSE BLOCK ***** -->

<bindings
	id="acOptionBindings"
	xmlns="http://www.mozilla.org/xbl"
	xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
	xmlns:xbl="http://www.mozilla.org/xbl">
	<binding id="acplugin" extends="chrome://global/content/bindings/richlistbox.xml#richlistitem">
		<content>
			<xul:hbox class="acplugin" flex="1" xbl:inherits="tooltiptext=desc" align="center">
				<xul:image class="acplugin-icon" xbl:inherits="ptype"/>
				<xul:vbox flex="1">
					<xul:hbox flex="1">
						<xul:checkbox anonid="checkbox" xbl:inherits="checked"/>
						<xul:label class="acplugin-position" anonid="position" xbl:inherits="value=position"/>
						<xul:separator class="thin"/>
						<xul:label class="acplugin-label" anonid="label" flex="1" xbl:inherits="value"/>
						<xul:separator class="thin"/>
						<xul:hbox class="acplugin-priority">
							<xul:label class="acplugin-priority-label" value="&ac.priority;"/>
							<xul:label class="acplugin-priority-text" anonid="priority" xbl:inherits="value=priority"/>
						</xul:hbox>
					</xul:hbox>
					<xul:hbox flex="1">
						<xul:hbox class="acplugin-type" flex="1">
							<xul:label class="acplugin-type-label" value="&ac.type;" />
							<xul:label class="acplugin-type-text" anonid="ptype" xbl:inherits="value=cleantype"/>
						</xul:hbox>
						<xul:separator class="thin"/>
						<xul:hbox class="acplugin-date">
							<xul:label class="acplugin-date-label" value="&ac.updated;"/>
							<xul:label class="acplugin-date-text" anonid="date" xbl:inherits="value=date"/>
						</xul:hbox>
					</xul:hbox>
				</xul:vbox>
			</xul:hbox>
		</content>
		<implementation>
			<constructor>
				switch (this.getAttribute('ptype')) {
				case 'resolver':
					this.setAttribute('cleantype', '&ac.resolver;');
					break;
				case 'redirector':
					this.setAttribute('cleantype', '&ac.redirector;');
					break;
				case 'sandbox':
					this.setAttribute('cleantype', '&ac.sandbox;');
					break;
				default:
					this.setAttribute('cleantype', '&ac.unspecified;');
					break;					
				}
			</constructor>
			<field name="checkbox">document.getAnonymousElementByAttribute(this, 'anonid', 'checkbox');</field>
			<field name="position">document.getAnonymousElementByAttribute(this, 'anonid', 'position');</field>
			<field name="label">document.getAnonymousElementByAttribute(this, 'anonid', 'label');</field>
			<field name="date">document.getAnonymousElementByAttribute(this, 'anonid', 'date');</field>
			<property name="value" onget="return this.label.value;" onset="return this.label.value = val;"/>
			<property name="checked" onget="return this.checkbox.checked;" onset="return this.checkbox.checked = !!(val != 'false');"/>
		</implementation>
		<handlers>
			<handler event="click" button="0" phase="capturing"><![CDATA[
				event.preventDefault();
				event.stopPropagation();
				this.checkbox.checked = !this.checkbox.checked;
			]]>
			</handler>
		</handlers>		
	</binding>
</bindings>