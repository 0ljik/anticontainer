{
	"debug": true,
	"type": "sandbox",
	"ns": "downthemall.net",
	"prefix": "flickr.com",
	"match": "^http://(?:[\\w\\d]+\\.)?flickr\\.com/photos/.*/\\d+/?(?:sizes/.+)?$",
	"resolve": "log(\"parsed\");\u000a\u000afunction _resolve(rt) {\u000a\u0009var u = new RegExp(\"src=\\\"(.*?static\\\\.flickr.*?/\\\\d+/\\\\d+_.*?)\\\"\").exec(rt);\u000a\u0009if (u) {\u000a\u0009\u0009setURL(u[1]);\u000a\u0009}\u000a\u0009finish();\u000a}\u000a\u000avar m = responseText.match(/href=\"(\\/photos\\/.*\\/\\d+\\/sizes\\/o.*?)\"/);\u000aif (!m) {\u000a\u0009log(\"retrying large\");\u000a\u0009m = responseText.match(/href=\"(\\/photos\\/.*\\/\\d+\\/sizes\\/l.*?)\"/);\u000a}\u000aif (m) {\u000a\u0009log(\"got large\");\u000a\u0009log(\"bu is \" + baseURL);\u000a\u0009log(\"m is \" + m[1]);\u000a\u0009m = composeURL(baseURL, m[1]);\u000a\u0009log(\"grabbing \" + m);\u000a\u0009with (new Request()) {\u000a\u0009\u0009onload = function() {\u000a\u0009\u0009\u0009log(\"load\");\u000a\u0009\u0009\u0009_resolve(responseText);\u000a\u0009\u0009}\u000a\u0009\u0009onerror = function() {\u000a\u0009\u0009\u0009log(\"error\");\u000a\u0009\u0009\u0009finish();\u000a\u0009\u0009}\u000a\u0009\u0009open('GET', m);\u000a\u0009\u0009send();\u000a\u0009}\u000a}\u000aelse {\u000a\u0009_resolve(responseText);\u000a}"
}